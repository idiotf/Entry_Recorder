(()=>{"use strict";const e={mimeType:'video/mp4;codecs="avc1.640032,mp4a.40.2"',videoBitsPerSecond:16e6};{function t(t,n){if(!(a instanceof r))return;!function(e,t,n){const s=e?.stage;if(!s)return;const{type:o,engine:i,options:{useWebGL:r}}=e,{canvas:a}=s,c=a.canvas;if(r)for(const e of a.children.flatMap((function e(t){return[t,...t.children.flatMap(e)]})).filter((e=>e.resolution)))e.resolution=t/640;if(c.width!=t||c.height!=n){c.width=t,c.height=n,a.x=t/2,a.y=n/2,a.scaleX=t/480,a.scaleY=n/270;const{_app:e}=s,{screen:o,renderer:i}=e;o&&i&&(o.width=t,o.height=n,i.resize(t,n),i.options.width=t,i.options.height=n),e.render?.(),a.update?.()}const l=s.inputField;if(l&&!l._isHidden&&l._padding!=13*t/640){if(l.x(Math.round(3*t/128)),l.y(Math.round(55*n/72)),l.width(Math.max(1,13*t/16)),l.height(Math.max(1,n/15)),l.padding(13*t/640),l.borderWidth(t/320),l.borderRadius(t/64),l.fontSize(t/32),r){const e=l.getPixiView();e.scale.set(480/t,270/n),e.position.set((l._x-a.x)/a.scaleX,(l._y-a.y)/a.scaleY)}e.requestUpdate=!0,s.update(),e.requestUpdate=!1}e.container.objects_.forEach((({entity:{object:t}},n)=>{t._viewportPatched!=n&&(t._viewportPatched=n,t.removeAllListeners?.("__pointermove"),t.removeAllListeners?.("__pointerup"),t.removeAllEventListeners?.("mousedown"),t.removeAllEventListeners?.("pressmove"),t.on(r?"__pointermove":"mousedown",(({stageX:n,stageY:o})=>{e.dispatchEvent("entityClick",t.entity),s.isObjectClick=!0,"minimize"!=e.type&&s.isEntitySelectable()&&(t.offset={x:-t.parent.x+t.entity.x-(n-a.x)/a.scaleX,y:-t.parent.y-t.entity.y-(o-a.y)/a.scaleY},t.cursor="move",t.entity.initCommand(),e.container.selectObject(t.entity.parent.id))})),t.on(r?"__pointerup":"pressmove",(({stageX:e,stageY:n})=>{if(!s.isEntitySelectable())return;const{entity:o}=t;o.parent.getLock()||(t.offset&&(o.setX((e-a.x)/a.scaleX+t.offset.x),o.setY((a.y-n)/a.scaleY-t.offset.y)),s.updateObject())})))})),s.variableContainer.children.forEach(((e,t)=>{const{variable:n}=e,{slideBar_:s,valueSetter_:c,resizeHandle_:l,scrollButton_:d}=n;s&&s._viewportPatched!=t&&(s._viewportPatched=t,s.removeAllListeners?.("__pointermove"),s.removeAllEventListeners?.("mousedown"),s.on(r?"__pointermove":"mousedown",(({stageX:e})=>i.isState("run")&&n.setSlideCommandX(e/a.scaleX-n.getX()-a.x/a.scaleX)))),c&&c._viewportPatched!=t&&(c._viewportPatched=t,c.removeAllListeners?.("__pointermove"),c.removeAllListeners?.("__pointerup"),c.removeAllEventListeners?.("mousedown"),c.removeAllEventListeners?.("pressmove"),c.on(r?"__pointermove":"mousedown",(({stageX:e})=>i.isState("run")&&(n.isAdjusting=!0,c.offsetX=e/a.scaleX-c.x))),c.on(r?"__pointerup":"pressmove",(({stageX:e})=>i.isState("run")&&n.setSlideCommandX(e/a.scaleX-c.offsetX+5)))),l&&l._viewportPatched!=t&&(l._viewportPatched=t,l.removeAllListeners?.("__pointermove"),l.removeAllListeners?.("__pointerup"),l.removeAllEventListeners?.("mousedown"),l.removeAllEventListeners?.("pressmove"),l.on(r?"__pointermove":"mousedown",(({stageX:e,stageY:t})=>{n.isResizing=!0,l.offset={x:e/a.scaleX-n.getWidth(),y:t/a.scaleY-n.getHeight()},l.parent.cursor="nwse-resize"})),l.on(r?"__pointerup":"pressmove",(({stageX:e,stageY:t})=>{n.setWidth(e/a.scaleX-l.offset.x),n.setHeight(t/a.scaleY-l.offset.y),n.updateView()}))),d&&d._viewportPatched!=t&&(d._viewportPatched=t,d.removeAllListeners?.("__pointermove"),d.removeAllListeners?.("__pointerup"),d.removeAllEventListeners?.("mousedown"),d.removeAllEventListeners?.("pressmove"),d.on(r?"__pointermove":"mousedown",(({stageY:e})=>{n.isResizing=!0,d.offsetY=e-d.y*a.scaleY})),d.on(r?"__pointerup":"pressmove",(({stageY:e})=>{d.y=Math.max(25,Math.min(n.getHeight()-30,(e-d.offsetY)/a.scaleY)),n.updateView()}))),e._viewportPatched!=t&&(e._viewportPatched=t,e.removeAllListeners?.("__pointermove"),e.removeAllListeners?.("__pointerup"),e.removeAllEventListeners?.("mousedown"),e.removeAllEventListeners?.("pressmove"),e.on(r?"__pointermove":"mousedown",(({stageX:t,stageY:n})=>"workspace"==o&&(e.offset={x:e.x-(t-a.x)/a.scaleX,y:e.y-(n-a.y)/a.scaleY}))),e.on(r?"__pointerup":"pressmove",(({stageX:t,stageY:s})=>"workspace"!=o||n.isResizing||n.isAdjusting||(n.setX((t-a.x)/a.scaleX+e.offset.x),n.setY((s-a.y)/a.scaleY+e.offset.y),n.updateView()))))})),s.handle.getEventCoordinate=({stageX:e,stageY:t})=>({x:(e-a.x)/a.scaleX,y:(t-a.y)/a.scaleY});try{Object.defineProperties(c,{offsetWidth:{get:()=>t/devicePixelRatio},offsetHeight:{get:()=>n/devicePixelRatio}})}catch{}}(i,t,n);const c=a.captureStream(e?.frameRequestRate),l=new MediaRecorder(c,e),d=new MediaStreamAudioDestinationNode(o.WebAudioSoundInstance.context);o.WebAudioSoundInstance.destinationNode.connect(d),d.stream.getTracks().forEach((e=>c.addTrack(e)));const m=[];l.addEventListener("dataavailable",(({data:e})=>{if(!e.size)return;m.push(e);const t=s.createElement("a");t.href=URL.createObjectURL(new Blob(m,{type:l.mimeType})),t.download="",t.click(),setTimeout(URL.revokeObjectURL,0,t.href)})),l.start(),i.engine.toggleRun(),i.addEventListener("stop",(()=>{l.stop()}))}const n=self.document.querySelector(".eaizycc0"),s=n instanceof HTMLIFrameElement&&n.contentDocument||self.document,o=n instanceof HTMLIFrameElement&&n.contentWindow?.createjs||self.createjs,i=n instanceof HTMLIFrameElement&&n.contentWindow?.Entry||self.Entry,r=n instanceof HTMLIFrameElement&&n.contentWindow?.HTMLCanvasElement||self.HTMLCanvasElement;n instanceof HTMLIFrameElement&&n.contentWindow&&(n.contentWindow.Function=Function);const a=s.getElementById("entryCanvas")||self.document.getElementById("entryCanvas");a instanceof r?t(2560,1440):alert("엔트리 작품 페이지가 아닙니다.")}})();